<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ðŸŒ€ Taste the Words of Africa</title>

<!-- Gold spiral favicon -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'>
<circle cx='64' cy='64' r='62' fill='none' stroke='%23b8860b' stroke-width='10'/>
<path d='M64 20 a44 44 0 1 0 44 44 a28 28 0 1 1 -28 -28' fill='none' stroke='%23b8860b' stroke-width='10' stroke-linecap='round'/>
</svg>">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;800&display=swap" rel="stylesheet">

<style>
:root{
  --sand:#f4ead7;--dune:#e6d3b4;--amber:#c69c6d;--gold:#b8860b;
  --ink:#3a2c20;--paper:#fffaf2;--accent:#7a5a2e;
  --cell-bg:#fffaf2;--found:#ffe9b3;--focus:#b8860b66;
  --dark-bg:#101218;--dark-cell:#1e1f24;--dark-text:#f3f1ee;
}
*{box-sizing:border-box}
html,body{margin:0;font-family:"Playfair Display",serif;background:linear-gradient(180deg,var(--sand),var(--dune));color:var(--ink);}

header{text-align:center;padding:1rem;}
h1{margin:0;font-weight:800;letter-spacing:.3px;font-size:1.8rem;display:inline-flex;align-items:center;gap:.3em;color:var(--accent);}
.controls{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap;margin-top:.5rem}
button{background:var(--amber);color:white;border:0;border-radius:999px;padding:.6rem 1rem;font-weight:700;cursor:pointer;transition:filter .2s;}
button:hover{filter:brightness(1.1)}
button.toggle{background:transparent;border:2px solid var(--accent);color:var(--ink);}
button.toggle.active{background:var(--amber);color:white;}

.app{display:grid;grid-template-columns:280px 1fr;gap:1rem;max-width:1100px;margin:0 auto;padding:1rem;}
@media(max-width:900px){.app{grid-template-columns:1fr}.legend{order:2}.grid-wrap{order:1}}

.legend{background:var(--paper);border:1px solid #e7dcc6;border-radius:12px;padding:1rem;box-shadow:0 6px 20px rgba(0,0,0,.08);}
.legend h2{text-align:center;color:var(--accent);margin-top:0}
.word-list{list-style:none;margin:0;padding:0}
.word-list li{margin:.3rem 0;padding:.3rem .4rem;border-radius:8px;}
.word-list li.found{background:var(--found);text-decoration:line-through}
.legend-note{text-align:center;font-size:.85rem;color:var(--accent);margin-top:.5rem}

/* grid */
.grid-wrap{position:relative;display:flex;justify-content:center;align-items:center;
  background:var(--paper);border-radius:12px;padding:8px;box-shadow:0 6px 20px #00000012;}
.grid{--size:12;display:grid;grid-template-columns:repeat(var(--size),clamp(28px,6vw,48px));gap:3px;user-select:none;}
.cell{display:flex;align-items:center;justify-content:center;
  background:var(--cell-bg);border-radius:6px;font-weight:800;letter-spacing:.5px;
  height:clamp(28px,6vw,48px);color:var(--ink);}
.cell.selected{outline:3px solid var(--gold);}
.cell.path{background:linear-gradient(180deg,#fff7e7,#fff0d6);}
.cell.found{background:var(--found);color:#3b2a1f;}

.dark body{background:var(--dark-bg);color:var(--dark-text);}
.dark .grid-wrap{background:var(--dark-cell);}
.dark .cell{background:var(--dark-cell);color:var(--dark-text);}
.dark .cell.found{background:#3a3118;color:#fcefb4;}
.dark .legend{background:#181a20;color:#eee;border:1px solid #2a2c33;}
.dark h1{color:var(--gold);}

/* Africa shape toggle */
.africa-mask .grid{
  -webkit-mask:url('#africa-mask');mask:url('#africa-mask');
  -webkit-mask-size:100% 100%;mask-size:100% 100%;
  -webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;
}

/* Finale */
@keyframes fadeGold{
  0%{opacity:1;filter:brightness(1)}
  50%{opacity:.6;filter:brightness(1.3)}
  100%{opacity:0;filter:brightness(1.8)}
}
@keyframes speckle{
  0%{background-position:0 0;opacity:1;transform:translateY(0)}
  100%{background-position:200px 200px;opacity:0;transform:translateY(-20px)}
}
.grid-wrap.fade-out{animation:fadeGold 2.8s ease forwards;position:relative}
.grid-wrap.fade-out::after{
  content:"";position:absolute;inset:0;
  background-image:
    radial-gradient(rgba(184,134,11,0.8) 1px,transparent 1px),
    radial-gradient(rgba(230,195,104,0.8) 1px,transparent 1px);
  background-size:4px 4px,6px 6px;
  animation:speckle 2.8s ease forwards;pointer-events:none;z-index:10;
}
.finale{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:var(--paper);border-radius:12px;opacity:0;z-index:20;transition:opacity 2.5s ease;overflow:hidden;text-align:center;}
.finale.show{opacity:1;}
.finale img{width:min(90%,520px);border-radius:12px;opacity:0;transform:scale(.95);
  transition:opacity 2.5s ease,transform 2.5s ease;}
.finale.show img{opacity:1;transform:scale(1);}
.finale h3{font-weight:800;color:var(--gold);margin-top:1rem;text-shadow:0 0 6px rgba(184,134,11,.4);}
.gold-shimmer{position:absolute;top:0;left:-150%;width:50%;height:100%;
  background:linear-gradient(120deg,transparent,rgba(255,215,0,.25),transparent);
  transform:skewX(-20deg);animation:shimmer 4s infinite;}
@keyframes shimmer{0%{left:-150%}50%,100%{left:150%}}
footer{text-align:center;padding:1rem;color:var(--accent);font-size:.85rem}
</style>
</head>

<body>
<svg width="0" height="0" viewBox="0 0 100 100">
  <defs>
    <mask id="africa-mask" maskUnits="objectBoundingBox" maskContentUnits="objectBoundingBox">
      <rect x="0" y="0" width="1" height="1" fill="black"/>
      <path d="M0.32,0.08 L0.55,0.05 L0.7,0.12 L0.9,0.18 L0.95,0.3 L0.9,0.45 L0.8,0.52 L0.78,0.62 L0.72,0.7 L0.7,0.78 L0.6,0.86 L0.52,0.95 L0.4,0.92 L0.32,0.84 L0.25,0.76 L0.16,0.7 L0.12,0.62 L0.08,0.52 L0.1,0.42 L0.12,0.35 L0.18,0.28 L0.22,0.2 Z" fill="white"/>
    </mask>
  </defs>
</svg>

<header>
  <h1>ðŸŒ€ Taste the Words of Africa</h1>
  <div class="controls">
    <button id="darkToggle" class="toggle">ðŸŒž / ðŸŒ™</button>
    <button id="shapeToggle" class="toggle">ðŸ—º Africa Shape</button>
    <button id="resetBtn">Reset</button>
  </div>
</header>

<div class="app">
  <aside class="legend">
    <h2>Words</h2>
    <ul id="wordList" class="word-list"></ul>
    <p class="legend-note">Tap or drag to find words. Tap shape button for Africa outline.</p>
  </aside>

  <div class="grid-wrap" id="gridWrap">
    <div class="grid" id="grid"></div>
    <div class="finale" id="finale">
      <img src="assets/images/african-woman-smile.jpg" alt="Smiling African woman">
      <div class="gold-shimmer"></div>
      <h3>Congratulations! The elders nod in approval. The circle is complete.</h3>
    </div>
  </div>
</div>

<footer>Designed in the spirit of Sankofa â€” learn from the past, celebrate the present.</footer>

<audio id="drumBeat" src="assets/audio/drum-beat.mp3" preload="auto"></audio>
<audio id="desertWind" src="assets/audio/desert-wind.mp3" preload="auto" loop></audio>
<audio id="sndFound" src="assets/audio/found.mp3" preload="auto"></audio>

<script>
const WORDS=[
  {text:"JOLLOF"},{text:"INJERA"},{text:"FUFU"},{text:"TAGINE"},
  {text:"NDOLE"},{text:"BOBOTIE"},{text:"THIEB"},{text:"UGALI"},
  {text:"KACHUMBARI"},{text:"SUYA"}
];
const SIZE=12,DIRS=[[1,0],[0,1],[1,1],[-1,0],[0,-1],[-1,-1],[1,-1],[-1,1]];
let grid=[],placed=[],foundCount=0;
const $=q=>document.querySelector(q);
function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a;}
function inBounds(r,c){return r>=0&&r<SIZE&&c>=0&&c<SIZE;}
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function tryPlace(word){const dirs=shuffle(DIRS.slice());
  for(const [dr,dc] of dirs){for(let t=0;t<200;t++){
    const r0=rand(0,SIZE-1),c0=rand(0,SIZE-1);let r=r0,c=c0,ok=true,cells=[];
    for(let k=0;k<word.length;k++){
      if(!inBounds(r,c)){ok=false;break;}
      const ch=grid[r][c];if(ch!==""&&ch!==word[k]){ok=false;break;}
      cells.push({r,c});r+=dr;c+=dc;
    }
    if(ok){cells.forEach((p,i)=>grid[p.r][p.c]=word[i]);return cells;}
  }}return null;}
function fillRandom(){for(let r=0;r<SIZE;r++)for(let c=0;c<SIZE;c++)if(!grid[r][c])grid[r][c]=String.fromCharCode(65+rand(0,25));}
function renderGrid(){
  const g=$("#grid");g.innerHTML="";
  for(let r=0;r<SIZE;r++)for(let c=0;c<SIZE;c++){
    const d=document.createElement("div");d.className="cell";d.textContent=grid[r][c];
    d.dataset.r=r;d.dataset.c=c;g.appendChild(d);}
}
function buildList(){const ul=$("#wordList");ul.innerHTML="";
  WORDS.forEach(w=>{const li=document.createElement("li");li.textContent=w.text;ul.appendChild(li);});
}
function resetGame(){
  grid=Array.from({length:SIZE},()=>Array(SIZE).fill(""));
  placed=[];foundCount=0;
  const order=shuffle(WORDS.slice());
  for(const w of order){const c=tryPlace(w.text);if(c)placed.push({text:w.text,cells:c,found:false});}
  fillRandom();renderGrid();buildList();$("#gridWrap").style.visibility="visible";
}
function showFinale(){
  const wrap=$("#gridWrap"),fin=$("#finale");
  wrap.classList.add("fade-out");
  setTimeout(()=>{wrap.style.visibility="hidden";fin.classList.add("show");
    $("#drumBeat").play();$("#desertWind").play();},2800);
}
$("#grid").addEventListener("click",e=>{
  if(!e.target.classList.contains("cell"))return;
  const el=e.target;if(el.classList.contains("found"))return;
  el.classList.add("found");$("#sndFound").play();
  foundCount++;if(foundCount===WORDS.length)showFinale();
});
$("#resetBtn").onclick=resetGame;
$("#darkToggle").onclick=()=>{document.body.classList.toggle("dark");$("#darkToggle").classList.toggle("active");};
$("#shapeToggle").onclick=()=>{$("#gridWrap").classList.toggle("africa-mask");$("#shapeToggle").classList.toggle("active");};
resetGame();
</script>
</body>
</html>
