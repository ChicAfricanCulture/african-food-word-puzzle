<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Discover Africa Through Food/title>

  <!-- ðŸª¶ Sankofa favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/icons/sankofa.svg">
  <link rel="alternate icon" type="image/png" href="assets/icons/sankofa-64.png">

  <meta name="description" content="Find 10 African foods in a Sahara-chic word puzzle and unlock ancestral proverbs as you play." />

  <style>
  /* === Sahara Desert Chic Theme === */
  :root{
    --sand:#f4ead7; --dune:#e6d3b4; --amber:#c69c6d; --gold:#b8860b;
    --ink:#3a2c20; --paper:#fffaf2; --accent:#7a5a2e;
    --found:#b8860b22; --focus:#b8860b66;
    --bg:linear-gradient(180deg,var(--sand),var(--dune));
  }
  .dark{
    --sand:#181920; --dune:#0f0f12; --amber:#c9a46c; --gold:#e6c368;
    --ink:#f3f1ee; --paper:#1f2025; --accent:#c39a48;
    --bg:linear-gradient(180deg,#0e0f15,#1c1e24);
  }
  *{box-sizing:border-box}
  html,body{
    margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    color:var(--ink);background:var(--bg);
  }

  header{text-align:center;padding:1rem}
  h1{margin:0;font-weight:800;letter-spacing:.3px;display:inline-flex;align-items:center;gap:.3em}
  h1 img{height:1.4em;vertical-align:-0.2em;filter:sepia(1) hue-rotate(10deg) saturate(4) brightness(1.1);}
  .tagline{margin:.25rem auto 1rem;max-width:40rem}
  .controls{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap;margin-top:.5rem}
  button{background:var(--amber);color:white;border:0;border-radius:999px;padding:.6rem 1rem;
    font-weight:700;cursor:pointer;transition:filter .2s ease;}
  button:hover{filter:brightness(1.1)}
  button.toggle{background:transparent;border:2px solid var(--accent);color:var(--ink)}
  button.toggle.active{background:var(--amber);color:white}

  /* Layout */
  .app{
    display:grid;grid-template-columns:300px 1fr;gap:1rem;
    max-width:1100px;margin:0 auto;padding:1rem;
  }
  @media(max-width:900px){.app{grid-template-columns:1fr}.legend{order:2}.grid-wrap{order:1}}

  .legend{
    background:var(--paper);border:1px solid #e7dcc6;border-radius:12px;
    padding:1rem;box-shadow:0 6px 20px rgba(0,0,0,0.08);
  }
  .legend h2{text-align:center;color:var(--accent);margin-top:0}
  .legend-note{text-align:center;font-size:.85rem;color:var(--accent);margin-top:.5rem}

  /* Grid */
  .grid-wrap{position:relative;display:flex;justify-content:center;align-items:center;
    background:var(--paper);border-radius:12px;padding:6px;box-shadow:0 6px 20px #00000012;}
  .grid{--size:14;display:grid;
    grid-template-columns:repeat(var(--size), clamp(28px,6.8vw,48px));
    gap:3px;user-select:none;touch-action:none;}
  .cell{
    display:flex;justify-content:center;align-items:center;
    background:#fffaf2;border-radius:6px;font-weight:800;letter-spacing:.5px;
    height:clamp(28px,6.8vw,48px);color:var(--ink);
  }
  .cell.selected{outline:3px solid var(--gold)}
  .cell.path{background:linear-gradient(180deg,#fff7e7,#fff0d6)}
  .cell.found{background:linear-gradient(180deg,#fff2cc,#ffe9b3)}
  .word-list{list-style:none;margin:0;padding:0}
  .word-list li{margin:.3rem 0;padding:.3rem .4rem;border-radius:8px;cursor:default}
  .word-list li.found{background:var(--found);text-decoration:line-through}

  /* Finale Transition */
  @keyframes fadeGold{
    0%{opacity:1;filter:brightness(1)}
    50%{opacity:.6;filter:brightness(1.3)}
    100%{opacity:0;filter:brightness(1.8)}
  }
  @keyframes speckle{
    0%{background-position:0 0,0 0;opacity:1;transform:translateY(0)}
    100%{background-position:200px 200px,-200px -200px;opacity:0;transform:translateY(-20px)}
  }
  .grid-wrap.fade-out{animation:fadeGold 2.8s ease forwards;position:relative}
  .grid-wrap.fade-out::after{
    content:"";position:absolute;inset:0;
    background-image:
      radial-gradient(rgba(184,134,11,0.8) 1px,transparent 1px),
      radial-gradient(rgba(230,195,104,0.8) 1px,transparent 1px);
    background-size:4px 4px,6px 6px;
    animation:speckle 2.8s ease forwards;pointer-events:none;z-index:10;
  }

  .finale{
    position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;
    justify-content:center;background:var(--paper);border-radius:12px;
    opacity:0;z-index:20;transition:opacity 2.5s ease;overflow:hidden;text-align:center;
  }
  .finale.show{opacity:1}
  .finale img{width:min(90%,520px);border-radius:12px;opacity:0;transform:scale(.95);
    transition:opacity 2.5s ease,transform 2.5s ease}
  .finale.show img{opacity:1;transform:scale(1)}
  .finale h3{font-weight:800;color:var(--gold);
    text-shadow:0 0 6px rgba(184,134,11,.4);margin-top:1rem;
    animation:glow 4s ease-in-out infinite alternate}
  @keyframes glow{from{text-shadow:0 0 6px rgba(184,134,11,.3)}
    to{text-shadow:0 0 20px rgba(230,195,104,.8)}}
  .gold-shimmer{
    position:absolute;top:0;left:-150%;width:50%;height:100%;
    background:linear-gradient(120deg,transparent,rgba(255,215,0,.25),transparent);
    transform:skewX(-20deg);animation:shimmer 4s infinite;pointer-events:none;
  }
  @keyframes shimmer{0%{left:-150%}50%,100%{left:150%}}

  footer{padding:1rem;text-align:center;font-size:.8rem;color:var(--accent)}
  </style>
</head>

<body>
  <header>
    <h1>
      <img src="assets/icons/sankofa.svg" alt="Sankofa icon">Taste the Words of Africa
    </h1>
    <div class="controls">
      <button id="darkToggle" class="toggle">ðŸŒž / ðŸŒ™</button>
      <button id="resetBtn">Reset</button>
    </div>
  </header>

  <div class="app">
    <!-- Sidebar -->
    <aside class="legend sidebar">
      <h2>Words</h2>
      <ul id="wordList" class="word-list"></ul>
      <div class="controls">
        <button id="hintFirst">Hint: First Letter</button>
        <button id="hintPulse">Hint: Pulse Word</button>
        <button id="hintReveal">Reveal Word</button>
      </div>
      <p class="legend-note">Tap a word after the puzzle to learn more.</p>
    </aside>

    <!-- Puzzle Grid -->
    <div class="grid-wrap" id="gridWrap">
      <div class="grid" id="grid"></div>
      <div class="finale" id="finale">
        <img src="assets/images/african-woman-smile.jpg" alt="Smiling African woman">
        <div class="gold-shimmer"></div>
        <h3>Congratulations! The elders nod in approval. The circle is complete.</h3>
      </div>
    </div>
  </div>

  <footer>Designed in the spirit of Sankofa â€” learn from the past, celebrate the present.</footer>

  <!-- === Game Script === -->
  <script>
  const WORDS=[
    {text:"JOLLOF",country:"Nigeria",flag:"ðŸ‡³ðŸ‡¬",url:"https://africanfood.recipes/search?q=jollof"},
    {text:"INJERA",country:"Ethiopia",flag:"ðŸ‡ªðŸ‡¹",url:"https://africanfood.recipes/search?q=injera"},
    {text:"FUFU",country:"Ghana",flag:"ðŸ‡¬ðŸ‡­",url:"https://africanfood.recipes/search?q=fufu"},
    {text:"TAGINE",country:"Morocco",flag:"ðŸ‡²ðŸ‡¦",url:"https://africanfood.recipes/search?q=tagine"},
    {text:"NDOLE",country:"Cameroon",flag:"ðŸ‡¨ðŸ‡²",url:"https://africanfood.recipes/search?q=ndole"},
    {text:"BOBOTIE",country:"South Africa",flag:"ðŸ‡¿ðŸ‡¦",url:"https://africanfood.recipes/search?q=bobotie"},
    {text:"THIEBOUDIENNE",country:"Senegal",flag:"ðŸ‡¸ðŸ‡³",url:"https://africanfood.recipes/search?q=Thieboudienne"},
    {text:"UGALI",country:"Kenya",flag:"ðŸ‡°ðŸ‡ª",url:"https://africanfood.recipes/search?q=ugali"},
    {text:"KACHUMBARI",country:"Tanzania",flag:"ðŸ‡¹ðŸ‡¿",url:"https://africanfood.recipes/search?q=Kachumbari"},
    {text:"SUYA",country:"Nigeria",flag:"ðŸ‡³ðŸ‡¬",url:"https://africanfood.recipes/search?q=Suya"}
  ];
  const SIZE=14;
  const DIRS=[[1,0],[0,1],[1,1],[-1,0],[0,-1],[-1,-1],[1,-1],[-1,1]];
  let grid=[],placed=[],foundCount=0;
  const $=q=>document.querySelector(q);
  function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a;}
  function inBounds(r,c){return r>=0&&r<SIZE&&c>=0&&c<SIZE;}
  function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

  function tryPlace(word){
    const dirs=shuffle(DIRS.slice());
    for(const [dr,dc] of dirs){
      for(let n=0;n<200;n++){
        const r0=rand(0,SIZE-1),c0=rand(0,SIZE-1);
        let r=r0,c=c0,ok=true,cells=[];
        for(let k=0;k<word.length;k++){
          if(!inBounds(r,c)){ok=false;break;}
          const ch=grid[r][c];
          if(ch!==""&&ch!==word[k]){ok=false;break;}
          cells.push({r,c});r+=dr;c+=dc;
        }
        if(ok){cells.forEach((p,i)=>grid[p.r][p.c]=word[i]);return cells;}
      }
    }return null;
  }
  function fillRandom(){for(let r=0;r<SIZE;r++)for(let c=0;c<SIZE;c++)if(!grid[r][c])grid[r][c]=String.fromCharCode(65+rand(0,25));}

  function buildWordList(){
    const ul=$("#wordList");ul.innerHTML="";
    WORDS.forEach(w=>{
      const li=document.createElement("li");
      li.textContent=`${w.flag} ${w.text}`;
      ul.appendChild(li);
    });
  }

  function renderGrid(){
    const el=$("#grid");el.innerHTML="";
    for(let r=0;r<SIZE;r++){
      for(let c=0;c<SIZE;c++){
        const cell=document.createElement("div");
        cell.className="cell";
        cell.textContent=grid[r][c];
        cell.dataset.r=r;cell.dataset.c=c;
        el.appendChild(cell);
      }
    }
  }

  function glowWord(word){
    const li=[...document.querySelectorAll("#wordList li")].find(l=>l.textContent.includes(word));
    if(li){li.classList.add("found");}
  }

  function resetGame(){
    grid=Array.from({length:SIZE},()=>Array(SIZE).fill(""));
    placed=[];foundCount=0;$("#finale").style.display="none";$("#finale").classList.remove("show");
    const order=shuffle(WORDS.slice());
    for(const w of order){const cells=tryPlace(w.text);if(cells)placed.push({text:w.text,cells,found:false});}
    fillRandom();renderGrid();buildWordList();
  }

  function showFinale(){
    const wrap=$("#gridWrap"),fin=$("#finale");
    wrap.classList.add("fade-out");
    setTimeout(()=>{
      wrap.style.visibility="hidden";
      fin.style.display="flex";fin.classList.add("show");
      $("#drumBeat").play().catch(()=>{});$("#desertWind").play().catch(()=>{});
    },2800);
  }

  /* Simple selection demo (click cells) */
  $("#grid").addEventListener("click",e=>{
    if(!e.target.classList.contains("cell"))return;
    const ch=e.target.textContent;
    e.target.classList.add("found");
    foundCount++;
    if(foundCount===10)showFinale();
  });

  $("#resetBtn").addEventListener("click",()=>{location.reload();});
  $("#darkToggle").addEventListener("click",()=>{
    document.body.classList.toggle("dark");
    $("#darkToggle").classList.toggle("active");
  });

  resetGame();
  </script>

  <!-- Audio assets -->
  <audio id="drumBeat" src="assets/audio/drum-beat.mp3" preload="auto"></audio>
  <audio id="desertWind" src="assets/audio/desert-wind.mp3" preload="auto" loop></audio>
</body>
</html>
